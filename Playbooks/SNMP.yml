
- hosts: Router1
  gather_facts: false
  tasks:
    - name: Merge provided configuration with device configuration
      cisco.ios.ios_acls:
        config:
          - afi: ipv4
            acls:
             - name: std_acl
               acl_type: standard
               aces:
                 - grant: permit
                   source:
                     address: 192.168.77.0
                 - grant: permit
                   source:
                     address: 192.168.77.0
                     wildcard_bits: 0.0.0.255
                 - grant: permit
                   source:
                     address: 10.10.10.0
                 - grant: permit
                   source:
                     address: 10.10.10.0
                     wildcard_bits: 0.0.0.255
    - name: Router SNMP configuration
      cisco.ios.ios_snmp_server:
        config:
          communities:
            - acl_v4: std_acl
              name: ahmed23
              rw: true
          groups:
            - group: mergedGroup
              version: v3
              version_option: auth
        state: replaced

